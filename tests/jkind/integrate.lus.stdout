Core Lustre
===========

node (x$4 : int, y : int)
  returns (z)
  assumes ()
  shows (prop2, prop1)
let
  x$3 = x$4
  valof_pre_z = pre z
  valof_arr$4 = 0 -> valof_pre_z
  z = Add(x$3, valof_arr$4)
  valof_pre_history = pre history
  valof_arr$3 = true -> valof_pre_history
  history = And(Gt(x$4, 0), valof_arr$3)
  prop1 = Implies(history, Gt(z, 0))
  x$2 = x$4
  valof_pre___no_static$2 = pre __no_static$2
  valof_arr$2 = 0 -> valof_pre___no_static$2
  __no_static$2 = Add(x$2, valof_arr$2)
  x$1 = y
  valof_pre___no_static$1 = pre __no_static$1
  valof_arr$1 = 0 -> valof_pre___no_static$1
  __no_static$1 = Add(x$1, valof_arr$1)
  x = Add(x$4, y)
  valof_pre___no_static = pre __no_static
  valof_arr = 0 -> valof_pre___no_static
  __no_static = Add(x, valof_arr)
  prop2 = Eq(Add(__no_static$2, __no_static$1), __no_static)
tel
Sally Model
===========

(define-state-type
   S
   (
     (history Bool)
     (prop1 Bool)
     (prop2 Bool)
     (x Int)
     (y Int)
     (z Int)
     (|__no_static:1| Int)
     (|__no_static:2| Int)
     (|__no_static| Int)
     (|gal-initializing| Bool)
     (|valof_arr:1:init| Bool)
     (|valof_arr:1| Int)
     (|valof_arr:2:init| Bool)
     (|valof_arr:2| Int)
     (|valof_arr:3:init| Bool)
     (|valof_arr:3| Bool)
     (|valof_arr:4:init| Bool)
     (|valof_arr:4| Int)
     (|valof_arr:init| Bool)
     (|valof_arr| Int)
     (|valof_pre___no_static:1| Int)
     (|valof_pre___no_static:2| Int)
     (|valof_pre___no_static| Int)
     (|valof_pre_history| Bool)
     (|valof_pre_z| Int)
     (|x:1| Int)
     (|x:2| Int)
     (|x:3| Int)
     (|x:4| Int))
   (
     (y Int)
     (|x:4| Int)))
(define-transition-system
   TS
   S
   (and
      (= |gal-initializing| true)
      (= |valof_arr:4:init| true)
      (= |valof_arr:3:init| true)
      (= |valof_arr:2:init| true)
      (= |valof_arr:1:init| true)
      (= |valof_arr:init| true))
   (and
      (= next.|gal-initializing| false)
      (= next.|x:4| input.|x:4|)
      (= next.y input.y)
      (= next.|x:3| next.|x:4|)
      (= next.|valof_pre_z| state.z)
      (ite
         state.|valof_arr:4:init|
         (= next.|valof_arr:4| 0)
         (= next.|valof_arr:4| next.|valof_pre_z|))
      (= next.|valof_arr:4:init| false)
      (=
         next.z
         (+ next.|x:3| next.|valof_arr:4|))
      (= next.|valof_pre_history| state.history)
      (ite
         state.|valof_arr:3:init|
         (= next.|valof_arr:3| true)
         (= next.|valof_arr:3| next.|valof_pre_history|))
      (= next.|valof_arr:3:init| false)
      (=
         next.history
         (and
            (< 0 next.|x:4|)
            next.|valof_arr:3|))
      (=
         next.prop1
         (=>
            next.history
            (< 0 next.z)))
      (= next.|x:2| next.|x:4|)
      (= next.|valof_pre___no_static:2| state.|__no_static:2|)
      (ite
         state.|valof_arr:2:init|
         (= next.|valof_arr:2| 0)
         (= next.|valof_arr:2| next.|valof_pre___no_static:2|))
      (= next.|valof_arr:2:init| false)
      (=
         next.|__no_static:2|
         (+ next.|x:2| next.|valof_arr:2|))
      (= next.|x:1| next.y)
      (= next.|valof_pre___no_static:1| state.|__no_static:1|)
      (ite
         state.|valof_arr:1:init|
         (= next.|valof_arr:1| 0)
         (= next.|valof_arr:1| next.|valof_pre___no_static:1|))
      (= next.|valof_arr:1:init| false)
      (=
         next.|__no_static:1|
         (+ next.|x:1| next.|valof_arr:1|))
      (=
         next.x
         (+ next.|x:4| next.y))
      (= next.|valof_pre___no_static| state.|__no_static|)
      (ite
         state.|valof_arr:init|
         (= next.|valof_arr| 0)
         (= next.|valof_arr| next.|valof_pre___no_static|))
      (= next.|valof_arr:init| false)
      (=
         next.|__no_static|
         (+ next.x next.|valof_arr|))
      (=
         next.prop2
         (=
            (+ next.|__no_static:2| next.|__no_static:1|)
            next.|__no_static|))))

(query
   TS
   (or |gal-initializing| prop2))
(query
   TS
   (or |gal-initializing| prop1))

[Lustre] Validating properties:
[Lustre] Property prop2... considering simultaneous states to depth 0
considering simultaneous states to depth 0
considering simultaneous states to depth 1
considering simultaneous states to depth 1
[[1;92mValid[0m] considering simultaneous states to depth 1
[Lustre] Property prop1... considering simultaneous states to depth 0
considering simultaneous states to depth 0
considering simultaneous states to depth 1
considering simultaneous states to depth 1
[[1;92mValid[0m] considering simultaneous states to depth 1
[Lustre] Model status: [[1;92mValid[0m] 
