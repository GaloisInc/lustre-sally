Core Lustre
===========

node (x$4 : int, y : int)
  returns (z)
  assumes ()
  shows (prop2, prop1)
let
  x$3 : int
    = x$4
   
  pre_z : int
    = pre z
   
  init_pre_z : int
    = 0 -> pre_z
   
  z : int
    = Add(x$3, init_pre_z)
   
  pre_history : bool
    = pre history
   
  init_pre_history : bool
    = true -> pre_history
   
  history : bool
    = And(Gt(x$4, 0), init_pre_history)
   
  prop1 : bool
    = Implies(history, Gt(z, 0))
   
  x$2 : int
    = x$4
   
  pre_integ$2 : int
    = pre integ$2
   
  init_pre_integ$2 : int
    = 0 -> pre_integ$2
   
  integ$2 : int
    = Add(x$2, init_pre_integ$2)
   
  x$1 : int
    = y
   
  pre_integ$1 : int
    = pre integ$1
   
  init_pre_integ$1 : int
    = 0 -> pre_integ$1
   
  integ$1 : int
    = Add(x$1, init_pre_integ$1)
   
  x : int
    = Add(x$4, y)
   
  pre_integ : int
    = pre integ
   
  init_pre_integ : int
    = 0 -> pre_integ
   
  integ : int
    = Add(x, init_pre_integ)
   
  prop2 : bool
    = Eq(Add(integ$2, integ$1), integ)
tel
Sally Model
===========

(define-state-type
   S
   (
     (history Bool)
     (integ Int)
     (prop1 Bool)
     (prop2 Bool)
     (x Int)
     (y Int)
     (z Int)
     (|gal-initializing| Bool)
     (|init_pre_history:init| Bool)
     (|init_pre_history| Bool)
     (|init_pre_integ:1:init| Bool)
     (|init_pre_integ:1| Int)
     (|init_pre_integ:2:init| Bool)
     (|init_pre_integ:2| Int)
     (|init_pre_integ:init| Bool)
     (|init_pre_integ| Int)
     (|init_pre_z:init| Bool)
     (|init_pre_z| Int)
     (|integ:1| Int)
     (|integ:2| Int)
     (|pre_history| Bool)
     (|pre_integ:1| Int)
     (|pre_integ:2| Int)
     (|pre_integ| Int)
     (|pre_z| Int)
     (|x:1| Int)
     (|x:2| Int)
     (|x:3| Int)
     (|x:4| Int))
   (
     (y Int)
     (|x:4| Int)))
(define-transition-system
   TS
   S
   (and
      (= |gal-initializing| true)
      (= |init_pre_z:init| true)
      (= |init_pre_history:init| true)
      (= |init_pre_integ:2:init| true)
      (= |init_pre_integ:1:init| true)
      (= |init_pre_integ:init| true))
   (and
      (= next.|gal-initializing| false)
      (= next.|x:4| input.|x:4|)
      (= next.y input.y)
      (= next.|x:3| next.|x:4|)
      (= next.|pre_z| state.z)
      (ite
         state.|init_pre_z:init|
         (= next.|init_pre_z| 0)
         (= next.|init_pre_z| next.|pre_z|))
      (= next.|init_pre_z:init| false)
      (=
         next.z
         (+ next.|x:3| next.|init_pre_z|))
      (= next.|pre_history| state.history)
      (ite
         state.|init_pre_history:init|
         (= next.|init_pre_history| true)
         (= next.|init_pre_history| next.|pre_history|))
      (= next.|init_pre_history:init| false)
      (=
         next.history
         (and
            (< 0 next.|x:4|)
            next.|init_pre_history|))
      (=
         next.prop1
         (=>
            next.history
            (< 0 next.z)))
      (= next.|x:2| next.|x:4|)
      (= next.|pre_integ:2| state.|integ:2|)
      (ite
         state.|init_pre_integ:2:init|
         (= next.|init_pre_integ:2| 0)
         (= next.|init_pre_integ:2| next.|pre_integ:2|))
      (= next.|init_pre_integ:2:init| false)
      (=
         next.|integ:2|
         (+ next.|x:2| next.|init_pre_integ:2|))
      (= next.|x:1| next.y)
      (= next.|pre_integ:1| state.|integ:1|)
      (ite
         state.|init_pre_integ:1:init|
         (= next.|init_pre_integ:1| 0)
         (= next.|init_pre_integ:1| next.|pre_integ:1|))
      (= next.|init_pre_integ:1:init| false)
      (=
         next.|integ:1|
         (+ next.|x:1| next.|init_pre_integ:1|))
      (=
         next.x
         (+ next.|x:4| next.y))
      (= next.|pre_integ| state.integ)
      (ite
         state.|init_pre_integ:init|
         (= next.|init_pre_integ| 0)
         (= next.|init_pre_integ| next.|pre_integ|))
      (= next.|init_pre_integ:init| false)
      (=
         next.integ
         (+ next.x next.|init_pre_integ|))
      (=
         next.prop2
         (=
            (+ next.|integ:2| next.|integ:1|)
            next.integ))))

(query
   TS
   (or |gal-initializing| prop2))
(query
   TS
   (or |gal-initializing| prop1))

[Lustre] Validating properties:
[Lustre] Property prop2... considering simultaneous states to depth 0
considering simultaneous states to depth 0
considering simultaneous states to depth 1
considering simultaneous states to depth 1
[Valid] considering simultaneous states to depth 1
[Lustre] Property prop1... considering simultaneous states to depth 0
considering simultaneous states to depth 0
considering simultaneous states to depth 1
considering simultaneous states to depth 1
[Valid] considering simultaneous states to depth 1
[Lustre] Model status: [Valid] 
