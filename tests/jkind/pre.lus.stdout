Core Lustre
===========

node (x : int, s : int)
  returns ()
  assumes ()
  shows (ok4, ok3, ok2, cex1, ok1)
let
  pre_init_pre_x : int
    = pre init_pre_x
   
  y : int
    = 1 -> pre_init_pre_x
   
  pre_z2 : int
    = pre z2
   
  z1 : int
    = 1 -> pre_z2
   
  pre_x$1 : int
    = pre x
   
  z2 : int
    = 2 -> pre_x$1
   
  pre_init_pre_init_pre_init_pre_$init : int
    = pre init_pre_init_pre_init_pre_$init
   
  w : int
    = 1 -> pre_init_pre_init_pre_init_pre_$init
   
  ok1 : bool
    = Eq(y, z1)
   
  pre_s$2 : int
    = pre s
   
  pre_s$1 : int
    = pre s
   
  ok2 : bool
    = And(Leq(0, pre_s$2), Leq(pre_s$1, 1))
   
  pre_s : int
    = pre s
   
  ok3 : bool
    = And(Leq(0, pre_s), Leq(pre_s, 1))
   
  r : int
    = pre r
   
  ok4 : bool
    = And(Leq(0, r), Leq(r, 1))
   
  cex1 : bool
    = Lt(w, 6)
   
  pre_x : int
    = pre x
   
  init_pre_x : int
    = 2 -> pre_x
   
  $init : int
    = 5 -> 6
   
  pre_$init : int
    = pre $init
   
  init_pre_$init : int
    = 4 -> pre_$init
   
  pre_init_pre_$init : int
    = pre init_pre_$init
   
  init_pre_init_pre_$init : int
    = 3 -> pre_init_pre_$init
   
  pre_init_pre_init_pre_$init : int
    = pre init_pre_init_pre_$init
   
  init_pre_init_pre_init_pre_$init : int
    = 2 -> pre_init_pre_init_pre_$init
tel
Sally Model
===========

(define-state-type
   S
   (
     (cex1 Bool)
     (ok1 Bool)
     (ok2 Bool)
     (ok3 Bool)
     (ok4 Bool)
     (r Int)
     (s Int)
     (w Int)
     (x Int)
     (y Int)
     (z1 Int)
     (z2 Int)
     (|$init:init| Bool)
     (|$init| Int)
     (|gal-initializing| Bool)
     (|init_pre_$init:init| Bool)
     (|init_pre_$init| Int)
     (|init_pre_init_pre_$init:init| Bool)
     (|init_pre_init_pre_$init| Int)
     (|init_pre_init_pre_init_pre_$init:init| Bool)
     (|init_pre_init_pre_init_pre_$init| Int)
     (|init_pre_x:init| Bool)
     (|init_pre_x| Int)
     (|pre_$init| Int)
     (|pre_init_pre_$init| Int)
     (|pre_init_pre_init_pre_$init| Int)
     (|pre_init_pre_init_pre_init_pre_$init| Int)
     (|pre_init_pre_x| Int)
     (|pre_s:1| Int)
     (|pre_s:2| Int)
     (|pre_s| Int)
     (|pre_x:1| Int)
     (|pre_x| Int)
     (|pre_z2| Int)
     (|w:init| Bool)
     (|y:init| Bool)
     (|z1:init| Bool)
     (|z2:init| Bool))
   (
     (s Int)
     (x Int)))
(define-transition-system
   TS
   S
   (and
      (= |gal-initializing| true)
      (= |y:init| true)
      (= |z1:init| true)
      (= |z2:init| true)
      (= |w:init| true)
      (= |init_pre_x:init| true)
      (= |$init:init| true)
      (= |init_pre_$init:init| true)
      (= |init_pre_init_pre_$init:init| true)
      (= |init_pre_init_pre_init_pre_$init:init| true))
   (and
      (= next.|gal-initializing| false)
      (= next.x input.x)
      (= next.s input.s)
      (= next.|pre_init_pre_x| state.|init_pre_x|)
      (ite
         state.|y:init|
         (= next.y 1)
         (= next.y next.|pre_init_pre_x|))
      (= next.|y:init| false)
      (= next.|pre_z2| state.z2)
      (ite
         state.|z1:init|
         (= next.z1 1)
         (= next.z1 next.|pre_z2|))
      (= next.|z1:init| false)
      (= next.|pre_x:1| state.x)
      (ite
         state.|z2:init|
         (= next.z2 2)
         (= next.z2 next.|pre_x:1|))
      (= next.|z2:init| false)
      (= next.|pre_init_pre_init_pre_init_pre_$init| state.|init_pre_init_pre_init_pre_$init|)
      (ite
         state.|w:init|
         (= next.w 1)
         (= next.w next.|pre_init_pre_init_pre_init_pre_$init|))
      (= next.|w:init| false)
      (=
         next.ok1
         (= next.y next.z1))
      (= next.|pre_s:2| state.s)
      (= next.|pre_s:1| state.s)
      (=
         next.ok2
         (and
            (<= 0 next.|pre_s:2|)
            (<= next.|pre_s:1| 1)))
      (= next.|pre_s| state.s)
      (=
         next.ok3
         (and
            (<= 0 next.|pre_s|)
            (<= next.|pre_s| 1)))
      (= next.r state.r)
      (=
         next.ok4
         (and
            (<= 0 next.r)
            (<= next.r 1)))
      (=
         next.cex1
         (< next.w 6))
      (= next.|pre_x| state.x)
      (ite
         state.|init_pre_x:init|
         (= next.|init_pre_x| 2)
         (= next.|init_pre_x| next.|pre_x|))
      (= next.|init_pre_x:init| false)
      (ite
         state.|$init:init|
         (= next.|$init| 5)
         (= next.|$init| 6))
      (= next.|$init:init| false)
      (= next.|pre_$init| state.|$init|)
      (ite
         state.|init_pre_$init:init|
         (= next.|init_pre_$init| 4)
         (= next.|init_pre_$init| next.|pre_$init|))
      (= next.|init_pre_$init:init| false)
      (= next.|pre_init_pre_$init| state.|init_pre_$init|)
      (ite
         state.|init_pre_init_pre_$init:init|
         (= next.|init_pre_init_pre_$init| 3)
         (= next.|init_pre_init_pre_$init| next.|pre_init_pre_$init|))
      (= next.|init_pre_init_pre_$init:init| false)
      (= next.|pre_init_pre_init_pre_$init| state.|init_pre_init_pre_$init|)
      (ite
         state.|init_pre_init_pre_init_pre_$init:init|
         (= next.|init_pre_init_pre_init_pre_$init| 2)
         (= next.|init_pre_init_pre_init_pre_$init| next.|pre_init_pre_init_pre_$init|))
      (= next.|init_pre_init_pre_init_pre_$init:init| false)))

(query
   TS
   (or |gal-initializing| ok4))
(query
   TS
   (or |gal-initializing| ok3))
(query
   TS
   (or |gal-initializing| ok2))
(query
   TS
   (or |gal-initializing| cex1))
(query
   TS
   (or |gal-initializing| ok1))

[Lustre] Validating properties:
[Lustre] Property ok4... considering simultaneous states to depth 0
considering simultaneous states to depth 0
considering simultaneous states to depth 1
[[1;91mInvalid[0m] 
Trace
=====

ok4:
 Step | x | s | |-> 
------+---+---+-----
 1    | 0 | 0 |     

[Lustre] Property ok3... considering simultaneous states to depth 0
considering simultaneous states to depth 0
considering simultaneous states to depth 1
[[1;91mInvalid[0m] 
Trace
=====

ok3:
 Step | x | s | |-> 
------+---+---+-----
 1    | 0 | 0 |     

[Lustre] Property ok2... considering simultaneous states to depth 0
considering simultaneous states to depth 0
considering simultaneous states to depth 1
[[1;91mInvalid[0m] 
Trace
=====

ok2:
 Step | x | s | |-> 
------+---+---+-----
 1    | 0 | 0 |     

[Lustre] Property cex1... considering simultaneous states to depth 0
considering simultaneous states to depth 0
considering simultaneous states to depth 1
considering simultaneous states to depth 1
considering simultaneous states to depth 2
considering simultaneous states to depth 2
considering simultaneous states to depth 3
considering simultaneous states to depth 3
considering simultaneous states to depth 4
considering simultaneous states to depth 4
considering simultaneous states to depth 5
considering simultaneous states to depth 5
considering simultaneous states to depth 6
[[1;91mInvalid[0m] 
Trace
=====

cex1:
 Step | x | s | |-> 
------+---+---+-----
 1    | 0 | 0 |     
 2    | 0 | 0 |     
 3    | 0 | 0 |     
 4    | 0 | 0 |     
 5    | 0 | 0 |     
 6    | 0 | 0 |     

[Lustre] Property ok1... considering simultaneous states to depth 0
considering simultaneous states to depth 0
considering simultaneous states to depth 1
considering simultaneous states to depth 1
considering simultaneous states to depth 2
considering simultaneous states to depth 2
[[1;92mValid[0m] considering simultaneous states to depth 2
[Lustre] Model status: [[1;91mInvalid[0m] 
