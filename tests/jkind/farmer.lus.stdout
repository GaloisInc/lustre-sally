Core Lustre
===========

node (choice$3 : int)
  returns (wolf, goat, cabbage, farmer)
  assumes ()
  shows (prop)
let
  object$2 = 1
  valof_pre_choice$2 = pre choice$2
  valof_pre___no_static$4 = pre __no_static$2
  valof_pre_wolf = pre wolf
  wolf = 0 -> ITE(Eq(valof_pre_choice$2, object$2), valof_pre___no_static$4, valof_pre_wolf)
  object$1 = 2
  valof_pre_choice$1 = pre choice$1
  valof_pre___no_static$3 = pre __no_static$1
  valof_pre_goat = pre goat
  goat = 0 -> ITE(Eq(valof_pre_choice$1, object$1), valof_pre___no_static$3, valof_pre_goat)
  object = 3
  valof_pre_choice = pre choice
  valof_pre___no_static$2 = pre __no_static
  valof_pre_cabbage = pre cabbage
  cabbage = 0 -> ITE(Eq(valof_pre_choice, object), valof_pre___no_static$2, valof_pre_cabbage)
  valof_pre___no_static$1 = pre __no_static$3
  farmer = 0 -> valof_pre___no_static$1
  solved = And(And(And(Eq(wolf, 1), Eq(goat, 1)), Eq(cabbage, 1)), Eq(farmer, 1))
  nothing_eaten = And(Implies(Eq(wolf, goat), Eq(farmer, goat)), Implies(Eq(goat, cabbage), Eq(farmer, cabbage)))
  wellformed = And(And(Implies(Eq(choice$3, 1), Eq(farmer, wolf)), Implies(Eq(choice$3, 2), Eq(farmer, goat))), Implies(Eq(choice$3, 3), Eq(farmer, cabbage)))
  x = And(nothing_eaten, wellformed)
  valof_pre___no_static = pre __no_static$4
  valof_arr = true -> valof_pre___no_static
  __no_static$4 = And(x, valof_arr)
  prop = Not(And(__no_static$4, solved))
  side$3 = farmer
  __no_static$3 = ITE(Eq(side$3, 0), 1, 0)
  choice$2 = choice$3
  side$2 = wolf
  __no_static$2 = ITE(Eq(side$2, 0), 1, 0)
  choice$1 = choice$3
  side$1 = goat
  __no_static$1 = ITE(Eq(side$1, 0), 1, 0)
  choice = choice$3
  side = cabbage
  __no_static = ITE(Eq(side, 0), 1, 0)
tel
Sally Model
===========

(define-state-type
   S
   (
     (cabbage Int)
     (choice Int)
     (farmer Int)
     (goat Int)
     (object Int)
     (prop Bool)
     (side Int)
     (solved Bool)
     (wellformed Bool)
     (wolf Int)
     (x Bool)
     (|__no_static:1| Int)
     (|__no_static:2| Int)
     (|__no_static:3| Int)
     (|__no_static:4| Bool)
     (|__no_static| Int)
     (|cabbage:init| Bool)
     (|choice:1| Int)
     (|choice:2| Int)
     (|choice:3| Int)
     (|farmer:init| Bool)
     (|gal-initializing| Bool)
     (|goat:init| Bool)
     (|nothing_eaten| Bool)
     (|object:1| Int)
     (|object:2| Int)
     (|side:1| Int)
     (|side:2| Int)
     (|side:3| Int)
     (|valof_arr:init| Bool)
     (|valof_arr| Bool)
     (|valof_pre___no_static:1| Int)
     (|valof_pre___no_static:2| Int)
     (|valof_pre___no_static:3| Int)
     (|valof_pre___no_static:4| Int)
     (|valof_pre___no_static| Bool)
     (|valof_pre_cabbage| Int)
     (|valof_pre_choice:1| Int)
     (|valof_pre_choice:2| Int)
     (|valof_pre_choice| Int)
     (|valof_pre_goat| Int)
     (|valof_pre_wolf| Int)
     (|wolf:init| Bool))
   (
     (|choice:3| Int)))
(define-transition-system
   TS
   S
   (and
      (= |gal-initializing| true)
      (= |wolf:init| true)
      (= |goat:init| true)
      (= |cabbage:init| true)
      (= |farmer:init| true)
      (= |valof_arr:init| true))
   (and
      (= next.|gal-initializing| false)
      (= next.|choice:3| input.|choice:3|)
      (= next.|object:2| 1)
      (= next.|valof_pre_choice:2| state.|choice:2|)
      (= next.|valof_pre___no_static:4| state.|__no_static:2|)
      (= next.|valof_pre_wolf| state.wolf)
      (ite
         state.|wolf:init|
         (= next.wolf 0)
         (=
            next.wolf
            (ite
               (= next.|valof_pre_choice:2| next.|object:2|)
               next.|valof_pre___no_static:4|
               next.|valof_pre_wolf|)))
      (= next.|wolf:init| false)
      (= next.|object:1| 2)
      (= next.|valof_pre_choice:1| state.|choice:1|)
      (= next.|valof_pre___no_static:3| state.|__no_static:1|)
      (= next.|valof_pre_goat| state.goat)
      (ite
         state.|goat:init|
         (= next.goat 0)
         (=
            next.goat
            (ite
               (= next.|valof_pre_choice:1| next.|object:1|)
               next.|valof_pre___no_static:3|
               next.|valof_pre_goat|)))
      (= next.|goat:init| false)
      (= next.object 3)
      (= next.|valof_pre_choice| state.choice)
      (= next.|valof_pre___no_static:2| state.|__no_static|)
      (= next.|valof_pre_cabbage| state.cabbage)
      (ite
         state.|cabbage:init|
         (= next.cabbage 0)
         (=
            next.cabbage
            (ite
               (= next.|valof_pre_choice| next.object)
               next.|valof_pre___no_static:2|
               next.|valof_pre_cabbage|)))
      (= next.|cabbage:init| false)
      (= next.|valof_pre___no_static:1| state.|__no_static:3|)
      (ite
         state.|farmer:init|
         (= next.farmer 0)
         (= next.farmer next.|valof_pre___no_static:1|))
      (= next.|farmer:init| false)
      (=
         next.solved
         (and
            (= next.wolf 1)
            (= next.goat 1)
            (= next.cabbage 1)
            (= next.farmer 1)))
      (=
         next.|nothing_eaten|
         (and
            (=>
               (= next.wolf next.goat)
               (= next.farmer next.goat))
            (=>
               (= next.goat next.cabbage)
               (= next.farmer next.cabbage))))
      (=
         next.wellformed
         (and
            (=>
               (= next.|choice:3| 1)
               (= next.farmer next.wolf))
            (=>
               (= next.|choice:3| 2)
               (= next.farmer next.goat))
            (=>
               (= next.|choice:3| 3)
               (= next.farmer next.cabbage))))
      (=
         next.x
         (and next.|nothing_eaten| next.wellformed))
      (= next.|valof_pre___no_static| state.|__no_static:4|)
      (ite
         state.|valof_arr:init|
         (= next.|valof_arr| true)
         (= next.|valof_arr| next.|valof_pre___no_static|))
      (= next.|valof_arr:init| false)
      (=
         next.|__no_static:4|
         (and next.x next.|valof_arr|))
      (=
         next.prop
         (not
            (and next.|__no_static:4| next.solved)))
      (= next.|side:3| next.farmer)
      (=
         next.|__no_static:3|
         (ite
            (= next.|side:3| 0)
            1
            0))
      (= next.|choice:2| next.|choice:3|)
      (= next.|side:2| next.wolf)
      (=
         next.|__no_static:2|
         (ite
            (= next.|side:2| 0)
            1
            0))
      (= next.|choice:1| next.|choice:3|)
      (= next.|side:1| next.goat)
      (=
         next.|__no_static:1|
         (ite
            (= next.|side:1| 0)
            1
            0))
      (= next.choice next.|choice:3|)
      (= next.side next.cabbage)
      (=
         next.|__no_static|
         (ite
            (= next.side 0)
            1
            0))))

(query
   TS
   (or |gal-initializing| prop))

[Lustre] Validating properties:
[Lustre] Property prop... considering simultaneous states to depth 0
considering simultaneous states to depth 0
considering simultaneous states to depth 1
considering simultaneous states to depth 1
considering simultaneous states to depth 2
considering simultaneous states to depth 2
considering simultaneous states to depth 3
considering simultaneous states to depth 3
considering simultaneous states to depth 4
considering simultaneous states to depth 4
considering simultaneous states to depth 5
considering simultaneous states to depth 5
considering simultaneous states to depth 6
considering simultaneous states to depth 6
considering simultaneous states to depth 7
considering simultaneous states to depth 7
considering simultaneous states to depth 8
[[1;91mInvalid[0m] 
Trace
=====

prop:
 Step | choice | |-> | wolf | goat | cabbage | farmer 
------+--------+-----+------+------+---------+--------
 1    | 2      |     | 0    | 0    | 0       | 0      
 2    | -864   |     | 0    | 1    | 0       | 1      
 3    | 3      |     | 0    | 1    | 0       | 0      
 4    | 2      |     | 0    | 1    | 1       | 1      
 5    | 1      |     | 0    | 0    | 1       | 0      
 6    | 735    |     | 1    | 0    | 1       | 1      
 7    | 2      |     | 1    | 0    | 1       | 0      
 8    | 1098   |     | 1    | 1    | 1       | 1      

[Lustre] Model status: [[1;91mInvalid[0m] 
